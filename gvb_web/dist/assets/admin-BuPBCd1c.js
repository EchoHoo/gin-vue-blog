import{b as K,s as B,o as t,d as u,c as R,r as V,a as L,u as N,H as A,h as f,k as b,w as a,F as k,q as w,e,n as y,t as C,i as x,f as d,B as z,l as D,T as F,I as H}from"./index-Csyz-WVi.js";import{_ as I}from"./gvb_user_info-Bxh_xYGC.js";import"./logout-B7t-cSRp.js";import"./user_api-DLmzQZL-.js";const S={__name:"gvb_theme",setup(g){const o=K(),s=o.theme;function i(){console.log(s),o.setTheme()}return(h,m)=>B(s)?(t(),u("i",{key:0,class:"fa fa-sun-o",onClick:i})):(t(),u("i",{key:1,class:"fa fa-moon-o",onClick:i}))}},U={__name:"gvb_aside_menu",setup(g){const o=R([]),s=K(),i=V({menuList:[{id:1,icon:"fa-home",title:"首页",name:"home",children:[]},{id:2,icon:"fa-users",title:"个人中心",name:"user_center",children:[{id:21,icon:"fa-users",title:"我的信息",name:"user_info"},{id:22,icon:"fa-users",title:"我的发布",name:"user_article_list"},{id:23,icon:"fa-users",title:"我的收藏",name:"user_collects"},{id:24,icon:"fa-users",title:"我的消息",name:"user_messages"}]},{id:3,icon:"fa-users",title:"用户管理",name:"",children:[{id:31,icon:"fa-list",title:"用户列表",name:"user_list"},{id:32,icon:"fa-cogs",title:"群聊消息",name:"chat_list"},{id:33,icon:"fa-cogs",title:"消息列表",name:"message_list",children:[]}]},{id:4,icon:"iconfont icon-tupianguanli1",title:"图文管理",name:"",children:[{id:41,icon:"iconfont icon-tupianguanli1",title:"图片管理",name:"image_list"},{id:42,icon:"fa-cogs",title:"文章添加",name:"add_article"},{id:43,icon:"fa-cogs",title:"文章管理",name:"article_list"},{id:44,icon:"fa-cogs",title:"标签管理",name:"tag_list"},{id:45,icon:"fa-cogs",title:"评论管理",name:"comment_list"}]},{id:5,icon:"fa-cogs",title:"系统管理",name:"",children:[{id:51,icon:"fa-cogs",title:"网站设置",name:"system_site"},{id:52,icon:"fa-cog",title:"系统日志",name:"log_list"},{id:53,icon:"iconfont icon-tupianguanli1",title:"菜单管理",name:"menu_list"},{id:54,icon:"iconfont icon-tupianguanli1",title:"广告管理",name:"advert_list"}]}],openKeys:[]});s.userInfo.role===2&&(i.menuList=[{id:1,icon:"fa-home",title:"首页",name:"home",children:[]},{id:21,icon:"fa-users",title:"我的信息",name:"user_info",children:[]},{id:22,icon:"fa-users",title:"我的发布",name:"user_article_list",children:[]},{id:23,icon:"fa-users",title:"我的收藏",name:"user_collects",children:[]},{id:24,icon:"fa-users",title:"我的消息",name:"user_messages",children:[]}]);const h=L(),m=N();function p({item:l,key:n,keyPath:r}){s.addTab({name:n.name,title:n.title}),h.push({name:n.name})}function v(l){const n=l.find(r=>i.openKeys.indexOf(r)===-1);i.openKeys=n?[n]:[]}function c(l){l===void 0&&(l=m.name);for(const n of i.menuList){if(n.name===l){o.value=[n];return}for(const r of n.children)if(r.name===l){o.value=[r],i.openKeys=[n.id];return}}}return A((l,n,r)=>{c(l.name),r()}),c(),(l,n)=>{const r=f("a-menu-item"),T=f("a-sub-menu"),O=f("a-menu");return t(),b(O,{selectedKeys:o.value,"onUpdate:selectedKeys":n[0]||(n[0]=_=>o.value=_),mode:"inline","inline-collapsed":!1,onClick:p,onOpenChange:v,"open-keys":i.openKeys},{default:a(()=>[(t(!0),u(k,null,w(i.menuList,_=>(t(),u(k,{key:_.name},[_.children.length===0?(t(),b(r,{key:_},{icon:a(()=>[e("i",{class:y("fa "+_.icon)},null,2)]),default:a(()=>[e("span",null,C(_.title),1)]),_:2},1024)):(t(),b(T,{key:_.id},{icon:a(()=>[e("i",{class:y("fa "+_.icon)},null,2)]),title:a(()=>[x(C(_.title),1)]),default:a(()=>[(t(!0),u(k,null,w(_.children,$=>(t(),b(r,{key:$},{icon:a(()=>[e("i",{class:y("fa "+$.icon)},null,2)]),default:a(()=>[e("span",null,C($.title),1)]),_:2},1024))),128))]),_:2},1024))],64))),128))]),_:1},8,["selectedKeys","open-keys"])}}},j={class:"gvb_aside"},q=e("div",{class:"gvb_aside_header flex"},[e("div",{class:"gvb_aside_logo flex"},[e("img",{src:"https://pic1.zhimg.com/50/v2-86c2d637bfbc6074a9cced94d8983a75_hd.jpg?source=1940ef5c",alt:""})]),e("div",{class:"gvb_aside_title"},"后台管理系统")],-1),E={class:"gvb_aside_body flex"},M={__name:"gvb_aside",setup(g){return(o,s)=>(t(),u("aside",j,[q,e("div",E,[d(U)])]))}},P={class:"gvb_tabs"},G=["onClick"],J=["onClick"],Q={__name:"gvb_tabs",setup(g){const o=N(),s=K(),i=L();function h(c){return o.name===c.name?"gvb_tab_item active":"gvb_tab_item"}function m(c){i.push({name:c.name})}function p(c){let l=s.removeTab(c);o.name===c.name&&i.push({name:s.tabList[l-1].name})}function v(){s.removeTabAll(),i.push({name:"home"})}return s.loadTabs(),window.onbeforeunload=function(c){s.saveTabs()},(c,l)=>(t(),u("div",P,[(t(!0),u(k,null,w(B(s).tabList,(n,r)=>(t(),u("div",{class:y(h(n)),key:r,onClick:T=>m(n)},[x(C(n.title)+" ",1),n.name!=="home"?(t(),u("span",{key:0,onClick:z(T=>p(n),["stop"]),class:"gvb_tab_remove_icon"},"x",8,J)):D("",!0)],10,G))),128)),e("div",{class:"gvb_tab_item remove_all",onClick:v}," 全部关闭 ")]))}},W={class:"gvb_admin"},X={class:"main"},Y={class:"left"},Z=e("a",{href:"#"},"个人中心",-1),ee={class:"right"},ne={class:"icon_actions"},te=e("i",{class:"fa fa-arrows-alt"},null,-1),se={class:"gvb_view"},ie={class:"gvb_view"},re={__name:"admin",setup(g){const o=L();function s(){o.push("/")}return(i,h)=>{const m=f("a-breadcrumb-item"),p=f("a-breadcrumb"),v=f("router-view");return t(),u("div",W,[d(M),e("div",X,[e("header",null,[e("div",Y,[d(p,null,{default:a(()=>[d(m,null,{default:a(()=>[x("首页")]),_:1}),d(m,null,{default:a(()=>[Z]),_:1}),d(m,null,{default:a(()=>[x("用户列表")]),_:1})]),_:1})]),e("div",ee,[e("div",ne,[e("i",{class:"fa fa-home",onClick:s}),d(S),te]),d(I,{"is-avatar":!0})])]),d(Q),e("main",null,[e("div",se,[e("div",ie,[d(v,null,{default:a(({Component:c})=>[d(F,{name:"fade",mode:"out-in"},{default:a(()=>[(t(),b(H(c)))]),_:2},1024)]),_:1})])])])])])}}};export{re as default};
