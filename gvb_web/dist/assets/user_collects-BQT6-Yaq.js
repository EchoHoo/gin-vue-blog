import{_ as T}from"./gvb_table-FccGUr9I.js";import{a as B}from"./tag_api-Ce4UcEQC.js";import{d as V}from"./article_api-D064_192.js";import{a as A,b as D,c as g,r as x,d as s,f as y,w as k,o as e,t as l,l as i,e as n,i as c,F,q as U,k as E,h}from"./index-DhileAJB.js";import{i as H}from"./image_api-2Vqinzva.js";import"./data-DE6nU9bg.js";const M={key:0},R=["innerHTML"],S=["src"],q={key:3,class:"gvb_article_data"},$=n("i",{class:"fa fa-eye"},null,-1),j=n("i",{class:"fa fa-thumbs-o-up"},null,-1),z=n("i",{class:"fa fa-comment-o"},null,-1),G=n("i",{class:"fa fa-star-o"},null,-1),J={key:4,class:"gvb_article_abstract"},K={key:5,class:"gvb_article_tags"},et={__name:"user_collects",setup(P){A(),D();const _=g(null),d=g(null),m=g(null),I=x({list:[{abstract:"",banner_id:3,banner_url:"",category:"p1",collects_count:0,comment_count:0,created_at:"",digg_count:0,id:"",look_count:0,tags:[],title:"",updated_at:"",user_avatar:"",user_id:1,user_nick_name:""}],columns:[{title:"id",dataIndex:"id",key:"id"},{title:"文章标题",dataIndex:"title",key:"title"},{title:"文章分类",dataIndex:"category",key:"category"},{title:"文章简介",dataIndex:"abstract",key:"abstract"},{title:"作者",dataIndex:"user_nick_name",key:"user_nick_name"},{title:"封面",dataIndex:"banner_url",key:"banner_url"},{title:"文章数据",dataIndex:"data",key:"data"},{title:"标签",dataIndex:"tags",key:"tags"},{title:"收藏时间",dataIndex:"created_at",key:"created_at"},{title:"操作",dataIndex:"action",key:"action"}],state:{title:"",abstract:"",banner_id:0,category:"",tags:[],link:"",source:""}}),r=x({tagOptions:[],categoryOptions:[],bannerOptions:[]}),w=["red","blue","green","purple","cyan","orange","pink"];function C(u){return w[u]}function b(){m.value.ExportList({tag:_.value,key:d.value})}async function L(){let u=await B();r.tagOptions=u.data;let o=await V();r.categoryOptions=o.data;let p=await H();r.bannerOptions=p.data}return L(),(u,o)=>{const p=h("a-tag"),f=h("a-select");return e(),s("div",null,[y(T,{columns:I.columns,baseURL:"/api/articles/collects","like-title":"搜索文章标题",ref_key:"gvbTable",ref:m,"is-edit":!1,"is-add":!1,"default-delete":""},{cell:k(({column:t,record:a,index:O})=>[t.key==="index"?(e(),s("span",M,l(O+1),1)):i("",!0),t.key==="title"?(e(),s("span",{key:1,class:"gvb_article_title",innerHTML:a.title},null,8,R)):i("",!0),t.key==="banner_url"?(e(),s("img",{key:2,src:a.banner_url,alt:"",height:"60",style:{"border-radius":"5px"}},null,8,S)):i("",!0),t.key==="data"?(e(),s("div",q,[n("span",null,[$,c(l(a.look_count),1)]),n("span",null,[j,c(l(a.digg_count),1)]),n("span",null,[z,c(l(a.comment_count),1)]),n("span",null,[G,c(l(a.collects_count),1)])])):i("",!0),t.key==="abstract"?(e(),s("span",J,l(a.abstract),1)):i("",!0),t.key==="tags"?(e(),s("div",K,[(e(!0),s(F,null,U(a.tags,(N,v)=>(e(),E(p,{color:C(v),key:v},{default:k(()=>[c(l(N),1)]),_:2},1032,["color"]))),128))])):i("",!0)]),filters:k(()=>[y(f,{class:"gvb_select",value:_.value,"onUpdate:value":o[0]||(o[0]=t=>_.value=t),style:{width:"200px"},allowClear:"",onChange:b,options:r.tagOptions,placeholder:"筛选文章标签"},null,8,["value","options"]),y(f,{class:"gvb_select",value:d.value,"onUpdate:value":o[1]||(o[1]=t=>d.value=t),style:{width:"200px"},allowClear:"",onChange:b,options:r.categoryOptions,placeholder:"筛选文章分类"},null,8,["value","options"])]),_:1},8,["columns"])])}}};export{et as default};
