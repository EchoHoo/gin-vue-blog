import{r as $,E,d as o,f as r,e as t,z as T,w as B,n as i,F as h,q as y,l as L,h as g,o as n,i as _,t as d,s as V}from"./index-CMDvGcfm.js";import{_ as A}from"./gvb_nav-DNQkAbS6.js";import{G as I}from"./gvb_footer-SeGHbCs2.js";import{g as M}from"./article_api-Dh3ZF_NR.js";import{a as N}from"./data-DE6nU9bg.js";import{g as x}from"./tag_api-C7P-Rzx2.js";import"./gvb_user_info-D5ARriOV.js";import"./logout-7pvh7eQ6.js";import"./user_api-Da9nH9Ud.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"base_view search_view"},D={class:"gvb_base_container"},F={class:"gvb_inner_container"},S={class:"gvb_search_head"},G=t("div",{class:"gvb_search_slogn"}," 搜索 ",-1),P={class:"gvb_search_ipt"},H={class:"gvb_search_btn"},K={class:"gvb_search_action"},O={class:"gvb_search_order"},R={class:"gvb_search_tags"},U=["onClick"],j={class:"gvb_search_result"},Q=["href"],Y=["src"],J={class:"info"},W={class:"title"},X=["href","innerHTML"],Z={class:"icon"},tt={key:0},st=t("i",{class:"fa fa-thumbs-up"},null,-1),et={key:1},at=t("i",{class:"fa fa-comments"},null,-1),ot={key:2},nt=t("i",{class:"fa fa-star-o"},null,-1),ct={key:3},it=t("i",{class:"fa fa-eye"},null,-1),lt=t("i",{class:"fa fa-clock"},null,-1),rt={key:0,class:"node_article_list"},_t={class:"gvb_search_page"},Ct={__name:"search",setup(dt){const s=$({query:{key:"",page:1,limit:10,sort:"",tag:""},total:20,tag_list:[{tag:"python",count:8},{tag:"golang",count:8},{tag:"前端",count:8}],article_list:[{abstract:`我的信息



<template>
  <div class="gvb_user_info_bg">
    <div class="gvb_user_info_view">
      <div `,banner_id:14,banner_url:"/uploads/file/235920pM89Q.jpg",category:"后台课程",collects_count:1,comment_count:0,created_at:"2023-03-11 00:45:16",digg_count:0,id:"2iBpzIYBenTVo4BRkquV",link:"",look_count:0,source:"",tags:["前端"],title:"个人中心",updated_at:"2023-03-11 00:45:16",user_avatar:"/uploads/avatar/default.png",user_id:2,user_nick_name:"zhangsan"}],simpleImage:E.PRESENTED_IMAGE_SIMPLE});function l(c){s.query.sort=c,u()}function v(c){s.query.tag=c,u()}function f(){u()}function m(){s.query.page=1,u()}async function u(){let c=await M(s.query);s.article_list=c.data.list,s.total=c.data.count}async function k(){let c=await x();s.tag_list=c.data.list}return u(),k(),(c,a)=>{const b=g("a-input"),q=g("a-button"),C=g("a-empty"),w=g("a-pagination");return n(),o("div",z,[r(A,{is_show:""}),t("div",D,[t("div",F,[t("div",S,[G,t("div",P,[r(b,{placeholder:"搜索你想要的内容",value:s.query.key,"onUpdate:value":a[0]||(a[0]=e=>s.query.key=e),onKeydown:T(m,["enter"])},null,8,["value"])]),t("div",H,[r(q,{type:"primary",onClick:m},{default:B(()=>[_("搜索")]),_:1})])]),t("div",K,[t("div",O,[t("span",{class:i({active:s.query.sort===""}),onClick:a[1]||(a[1]=e=>l(""))},"综合排序",2),t("span",{class:i({active:s.query.sort==="created_at asc"}),onClick:a[2]||(a[2]=e=>l("created_at asc"))},"最早发布",2),t("span",{class:i({active:s.query.sort==="created_at desc"}),onClick:a[3]||(a[3]=e=>l("created_at desc"))},"最新发布",2),t("span",{class:i({active:s.query.sort==="look_count desc"}),onClick:a[4]||(a[4]=e=>l("look_count desc"))},"最多浏览",2),t("span",{class:i({active:s.query.sort==="digg_count desc"}),onClick:a[5]||(a[5]=e=>l("digg_count desc"))},"最多点赞",2),t("span",{class:i({active:s.query.sort==="comment_count desc"}),onClick:a[6]||(a[6]=e=>l("comment_count desc"))},"最多评论",2),t("span",{class:i({active:s.query.sort==="collects_count desc"}),onClick:a[7]||(a[7]=e=>l("collects_count desc"))},"最多收藏",2)]),t("div",R,[t("span",{class:i({active:s.query.tag===""}),onClick:a[8]||(a[8]=e=>v(""))},"全部标签",2),(n(!0),o(h,null,y(s.tag_list,(e,p)=>(n(),o("span",{class:i({active:s.query.tag===e.tag}),onClick:ut=>v(e.tag),key:p},d(e.tag),11,U))),128))])]),t("div",j,[(n(!0),o(h,null,y(s.article_list,(e,p)=>(n(),o("div",{class:"gvb_search_result_item",key:p},[t("a",{href:"article/"+e.id,target:"_blank",class:"img"},[t("img",{src:e.banner_url,alt:""},null,8,Y)],8,Q),t("div",J,[t("div",W,[t("a",{href:e.id,target:"_blank",innerHTML:e.title},null,8,X)]),t("div",Z,[s.query.sort==="digg_count desc"?(n(),o("span",tt,[st,_(d(e.digg_count),1)])):s.query.sort==="comment_count desc"?(n(),o("span",et,[at,_(d(e.comment_count),1)])):s.query.sort==="collects_count desc"?(n(),o("span",ot,[nt,_(d(e.collects_count),1)])):(n(),o("span",ct,[it,_(d(e.look_count),1)])),t("span",null,[lt,_(d(V(N)(e.created_at)),1)])])])]))),128))]),s.article_list.length===0?(n(),o("div",rt,[r(C,{image:s.simpleImage},null,8,["image"])])):L("",!0),t("div",_t,[r(w,{class:"article_list_page",current:s.query.page,"onUpdate:current":a[9]||(a[9]=e=>s.query.page=e),hideOnSinglePage:"",total:s.total,onChange:f,"show-total":e=>`共 ${e} 篇`},null,8,["current","total","show-total"])])])]),r(I)])}}};export{Ct as default};
