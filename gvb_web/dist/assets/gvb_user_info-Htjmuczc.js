import{a as B,u as b,b as x,r as I,h as l,o as t,d as i,e as a,s as u,l as N,f as r,w as o,F as p,q as V,k as f,t as v,B as R,i as j}from"./index-CQKID6YZ.js";import{l as A}from"./logout-DE3wPEOl.js";const F={class:"gvb_user_info"},S={key:0,class:"avatar"},q=["src"],D={class:"drop_menu"},E=a("i",{class:"fa fa-angle-down"},null,-1),L={href:"javascript:void (0)"},M=a("a",{href:"javascript:;"},"注销退出",-1),H={__name:"gvb_user_info",props:{isAvatar:{type:Boolean,default:!1}},setup(h){const k=B();b();const n=x(),g=h,e=I({menu_list:[{title:"我的信息",name:"user_info",parentTitle:"个人中心"},{title:"我的收藏",name:"user_collects",parentTitle:"个人中心"},{title:"我的消息",name:"user_messages",parentTitle:"个人中心"}]});(n.userInfo.role===1||n.userInfo.role===3)&&(e.menu_list.push({title:"line"}),e.menu_list.push({title:"添加文章",name:"add_article",parentTitle:"文图管理"}),e.menu_list.push({title:"文章管理",name:"article_list",parentTitle:"文图管理"}),e.menu_list.push({title:"用户列表",name:"user_list",parentTitle:"用户管理"}),e.menu_list.push({title:"系统日志",name:"log_list",parentTitle:"系统管理"}));function T(s){n.addTab({name:s.name,title:s.title,parentTitle:s.parentTitle}),k.push({name:s.name})}return(s,c)=>{const m=l("a-menu-item"),d=l("a-menu-divider"),C=l("a-menu"),w=l("a-dropdown");return t(),i("div",F,[g.isAvatar?(t(),i("div",S,[a("img",{src:u(n).userInfo.avatar,alt:""},null,8,q)])):N("",!0),a("div",D,[r(w,{placement:"bottomRight"},{overlay:o(()=>[r(C,null,{default:o(()=>[(t(!0),i(p,null,V(e.menu_list,(_,y)=>(t(),i(p,{key:y},[_.title!=="line"?(t(),f(m,{key:0,onClick:$=>T(_)},{default:o(()=>[a("a",L,v(_.title),1)]),_:2},1032,["onClick"])):(t(),f(d,{key:1}))],64))),128)),r(d),r(m,{onClick:u(A)},{default:o(()=>[M]),_:1},8,["onClick"])]),_:1})]),default:o(()=>[a("a",{class:"ant-dropdown-link",onClick:c[0]||(c[0]=R(()=>{},["prevent"]))},[j(v(u(n).userInfo.nickname)+" ",1),E])]),_:1})])])}}};export{H as _};
